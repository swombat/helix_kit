---
http_interactions:
- request:
    method: post
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-preview:generateContent
    body:
      encoding: UTF-8
      string: '{"contents":[{"role":"user","parts":[{"text":"What is 15 multiplied
        by 7? Use the calculator tool."}]}],"generationConfig":{},"tools":[{"functionDeclarations":[{"name":"gemini_direct_api_test--calculator","description":"Performs
        basic arithmetic operations","parameters":{"type":"OBJECT","properties":{"operation":{"type":"STRING","description":"The
        operation: add, subtract, multiply, divide"},"a":{"type":"NUMBER","description":"First
        number"},"b":{"type":"NUMBER","description":"Second number"}},"required":["operation","a","b"]}}]}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      x-goog-api-key:
      - "<GEMINI_API_KEY>"
      Content-Type:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      content-type:
      - application/json; charset=UTF-8
      vary:
      - Origin, X-Origin, Referer
      date:
      - Tue, 30 Dec 2025 12:01:43 GMT
      server:
      - scaffolding on HTTPServer2
      x-xss-protection:
      - '0'
      x-frame-options:
      - SAMEORIGIN
      x-content-type-options:
      - nosniff
      server-timing:
      - gfet4t7; dur=2771
      alt-svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      transfer-encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {
          "candidates": [
            {
              "content": {
                "parts": [
                  {
                    "functionCall": {
                      "name": "gemini_direct_api_test--calculator",
                      "args": {
                        "a": 15,
                        "operation": "multiply",
                        "b": 7
                      }
                    },
                    "thoughtSignature": "EtoCCtcCAXLI2nz3/NoWEhUb+mvssmd8P9HOeD9OCNHOr1XtAVv4NS/Ja5QQxwH6u/BAnUdrPu9jz8CQKk2ObmxEdtjaVn6LrLNg4oyKZul9WwGQ/PM7QighT7ZZxvmutfu7bn9I75ypp6BMN2xCKPsAv5JZf44KKfZGvbY+9mVKL/dO9DerkQCfJqQ0ZQe9vqNoDTgfU8c/R6fV4qGij1vA2Pn9SFZJtUw9ZTHG7Ln3pHOSwV4VNcwcckf2e4W/cjrfsuV/XvcjOhwvCkUY5pHpuLNnl9E3X62ovd7tqDwDPpcdmJxfCzleOgrtU020Eas4ccUmHCpzQD4gzqgQoKxrIb8z9nBBnB2nH2VBUjgKWHDplz7+1J/kyHy2hdwkQkWnpB1i/xkBCSL0DwPyK8iKb0ge3HRTEc5y3vjTY4kD9WEJYE7yD97XBr8nwoUvXFJ511Kc0XKYJhmecQ=="
                  }
                ],
                "role": "model"
              },
              "finishReason": "STOP",
              "index": 0,
              "finishMessage": "Model generated function call(s)."
            }
          ],
          "usageMetadata": {
            "promptTokenCount": 118,
            "candidatesTokenCount": 32,
            "totalTokenCount": 232,
            "promptTokensDetails": [
              {
                "modality": "TEXT",
                "tokenCount": 118
              }
            ],
            "thoughtsTokenCount": 82
          },
          "modelVersion": "gemini-3-pro-preview",
          "responseId": "J79TafDGMNf9vdIPusyK4QU"
        }
  recorded_at: Tue, 30 Dec 2025 12:01:43 GMT
- request:
    method: post
    uri: https://generativelanguage.googleapis.com/v1beta/models/gemini-3-pro-preview:generateContent
    body:
      encoding: UTF-8
      string: '{"contents":[{"role":"user","parts":[{"text":"What is 15 multiplied
        by 7? Use the calculator tool."}]},{"role":"model","parts":[{"functionCall":{"name":"gemini_direct_api_test--calculator","args":{"a":15,"operation":"multiply","b":7}},"thoughtSignature":"EtoCCtcCAXLI2nz3/NoWEhUb+mvssmd8P9HOeD9OCNHOr1XtAVv4NS/Ja5QQxwH6u/BAnUdrPu9jz8CQKk2ObmxEdtjaVn6LrLNg4oyKZul9WwGQ/PM7QighT7ZZxvmutfu7bn9I75ypp6BMN2xCKPsAv5JZf44KKfZGvbY+9mVKL/dO9DerkQCfJqQ0ZQe9vqNoDTgfU8c/R6fV4qGij1vA2Pn9SFZJtUw9ZTHG7Ln3pHOSwV4VNcwcckf2e4W/cjrfsuV/XvcjOhwvCkUY5pHpuLNnl9E3X62ovd7tqDwDPpcdmJxfCzleOgrtU020Eas4ccUmHCpzQD4gzqgQoKxrIb8z9nBBnB2nH2VBUjgKWHDplz7+1J/kyHy2hdwkQkWnpB1i/xkBCSL0DwPyK8iKb0ge3HRTEc5y3vjTY4kD9WEJYE7yD97XBr8nwoUvXFJ511Kc0XKYJhmecQ=="}]},{"role":"function","parts":[{"functionResponse":{"name":"gemini_direct_api_test--calculator","response":{"name":"gemini_direct_api_test--calculator","content":[{"text":"{result:
        105, operation: \"multiply\", a: 15, b: 7}"}]}}}]}],"generationConfig":{},"tools":[{"functionDeclarations":[{"name":"gemini_direct_api_test--calculator","description":"Performs
        basic arithmetic operations","parameters":{"type":"OBJECT","properties":{"operation":{"type":"STRING","description":"The
        operation: add, subtract, multiply, divide"},"a":{"type":"NUMBER","description":"First
        number"},"b":{"type":"NUMBER","description":"Second number"}},"required":["operation","a","b"]}}]}]}'
    headers:
      User-Agent:
      - Faraday v2.14.0
      x-goog-api-key:
      - "<GEMINI_API_KEY>"
      Content-Type:
      - application/json
  response:
    status:
      code: 200
      message: OK
    headers:
      content-type:
      - application/json; charset=UTF-8
      vary:
      - Origin, X-Origin, Referer
      date:
      - Tue, 30 Dec 2025 12:01:45 GMT
      server:
      - scaffolding on HTTPServer2
      x-xss-protection:
      - '0'
      x-frame-options:
      - SAMEORIGIN
      x-content-type-options:
      - nosniff
      server-timing:
      - gfet4t7; dur=1862
      alt-svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      transfer-encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        {
          "candidates": [
            {
              "content": {
                "parts": [
                  {
                    "text": "15 multiplied by 7 is 105."
                  }
                ],
                "role": "model"
              },
              "finishReason": "STOP",
              "index": 0
            }
          ],
          "usageMetadata": {
            "promptTokenCount": 294,
            "candidatesTokenCount": 12,
            "totalTokenCount": 306,
            "promptTokensDetails": [
              {
                "modality": "TEXT",
                "tokenCount": 294
              }
            ]
          },
          "modelVersion": "gemini-3-pro-preview",
          "responseId": "Kb9TadmvLfCNvdIP0cns4AQ"
        }
  recorded_at: Tue, 30 Dec 2025 12:01:45 GMT
recorded_with: VCR 6.3.1
